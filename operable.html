<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Operable - WCAG Testing</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        .keyboard-trap { position: relative; }
        .no-focus-indicator:focus { outline: none !important; box-shadow: none !important; }
        .tiny-target { width: 20px; height: 20px; }
        .drag-only { cursor: move; }
        .carousel-container { overflow: hidden; }
        .flashing { animation: flash 0.1s infinite; }
        @keyframes flash { 0% { opacity: 1; } 50% { opacity: 0; } }
    </style>
</head>
<body>
    <!-- Issue: Missing skip link on this page -->
    
    <header>
        <div class="logo-container">
            <img src="images/logo.png" alt="WCAG Testing Logo" width="50" height="50">
            <h1>Principle 2: Operable</h1>
        </div>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="perceivable.html">Perceivable</a></li>
                <li><a href="operable.html" aria-current="page">Operable</a></li>
                <li><a href="understandable.html">Understandable</a></li>
                <li><a href="robust.html">Robust</a></li>
                <li><a href="complex-scenarios.html">Complex Scenarios</a></li>
            </ul>
        </nav>
    </header>

    <main id="main">
        <section>
            <h2>2.1.1 Keyboard</h2>
            <div class="test-area">
                <!-- Issue: Click-only interaction -->
                <div onclick="alert('This only works with mouse')" style="cursor: pointer; padding: 10px; background: #f0f0f0;">
                    Click me (keyboard users can't activate this)
                </div>
                
                <!-- Issue: Hover-only menu -->
                <div class="hover-menu" style="margin-top: 20px;">
                    <style>
                        .hover-menu .submenu { display: none; }
                        .hover-menu:hover .submenu { display: block; }
                    </style>
                    <button>Menu (hover to see options)</button>
                    <div class="submenu" style="background: white; border: 1px solid #ccc; padding: 10px;">
                        <a href="#">Option 1</a><br>
                        <a href="#">Option 2</a>
                    </div>
                </div>
                
                <!-- Correct: Keyboard accessible -->
                <button onclick="alert('Works with keyboard and mouse')">
                    Accessible Button
                </button>
            </div>
        </section>

        <section>
            <h2>2.1.2 No Keyboard Trap</h2>
            <div class="test-area">
                <!-- Issue: Keyboard trap in fake modal -->
                <button onclick="document.getElementById('trapModal').style.display='block'">
                    Open Modal with Keyboard Trap
                </button>
                <div id="trapModal" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 20px; border: 2px solid #333;">
                    <h3>Modal Dialog</h3>
                    <p>Try to tab out of this modal - you can't!</p>
                    <input type="text" placeholder="First field" onfocus="if(event.relatedTarget && !this.parentElement.contains(event.relatedTarget)) this.focus()">
                    <input type="text" placeholder="Second field">
                    <button onclick="this.parentElement.style.display='none'">Close (mouse only)</button>
                    <script>
                        // Trap focus inside modal - bad practice
                        document.getElementById('trapModal').addEventListener('keydown', function(e) {
                            if (e.key === 'Tab') {
                                const inputs = this.querySelectorAll('input, button');
                                if (e.shiftKey && document.activeElement === inputs[0]) {
                                    e.preventDefault();
                                    inputs[inputs.length - 1].focus();
                                } else if (!e.shiftKey && document.activeElement === inputs[inputs.length - 1]) {
                                    e.preventDefault();
                                    inputs[0].focus();
                                }
                            }
                        });
                    </script>
                </div>
            </div>
        </section>

        <section>
            <h2>2.1.4 Character Key Shortcuts</h2>
            <div class="test-area">
                <!-- Issue: Single character shortcuts without modifier -->
                <p>Press 'S' to save (conflicts with screen reader navigation)</p>
                <script>
                    document.addEventListener('keypress', function(e) {
                        if (e.key === 's' && !e.ctrlKey && !e.altKey && !e.metaKey) {
                            // Bad: single key shortcut
                            console.log('Save triggered');
                        }
                    });
                </script>
                
                <!-- Correct: Shortcuts with modifiers -->
                <p>Press Ctrl+S to save (proper shortcut with modifier)</p>
            </div>
        </section>

        <section>
            <h2>2.2.1 Timing Adjustable</h2>
            <div class="test-area">
                <!-- Issue: No warning before timeout -->
                <div style="padding: 20px; background: #f9f9f9;">
                    <p>This session will timeout in 5 minutes without warning</p>
                    <script>
                        // Bad: No user control over timing
                        setTimeout(() => {
                            console.log('Session expired - redirecting');
                        }, 300000);
                    </script>
                </div>
                
                <!-- Correct: User can extend time -->
                <div style="padding: 20px; background: #e9f9e9;">
                    <p>Session timeout with user control</p>
                    <button onclick="extendSession()">Extend Session</button>
                </div>
            </div>
        </section>

        <section>
            <h2>2.2.2 Pause, Stop, Hide</h2>
            <div class="test-area">
                <!-- Issue: Auto-playing content without pause -->
                <div class="carousel-container" style="height: 100px; background: #f0f0f0; position: relative;">
                    <div id="autoCarousel" style="position: absolute; width: 100%; transition: transform 0.5s;">
                        <p>This content auto-scrolls without pause control</p>
                    </div>
                    <script>
                        let position = 0;
                        setInterval(() => {
                            position -= 100;
                            document.getElementById('autoCarousel').style.transform = `translateX(${position}px)`;
                            if (position < -200) position = 0;
                        }, 2000);
                    </script>
                </div>
                
                <!-- Issue: Blinking text -->
                <p class="flashing">This text flashes rapidly!</p>
            </div>
        </section>

        <section>
            <h2>2.3.1 Three Flashes</h2>
            <div class="test-area">
                <!-- Issue: Content that could trigger seizures -->
                <div style="border: 2px solid red; padding: 20px;">
                    <p>⚠️ Warning: Simulated flashing content (not actually implemented for safety)</p>
                    <p>In a real violation, this would flash more than 3 times per second</p>
                </div>
            </div>
        </section>

        <section>
            <h2>2.4.1 Bypass Blocks</h2>
            <div class="test-area">
                <!-- Issue: Repetitive navigation without skip option -->
                <nav>
                    <ul>
                        <li><a href="#">Link 1</a></li>
                        <li><a href="#">Link 2</a></li>
                        <li><a href="#">Link 3</a></li>
                        <li><a href="#">Link 4</a></li>
                        <li><a href="#">Link 5</a></li>
                        <li><a href="#">Link 6</a></li>
                        <li><a href="#">Link 7</a></li>
                        <li><a href="#">Link 8</a></li>
                    </ul>
                </nav>
                <p>Main content starts here (no way to skip the navigation)</p>
            </div>
        </section>

        <section>
            <h2>2.4.2 Page Titled</h2>
            <div class="test-area">
                <!-- Issue: Generic iframe without title -->
                <iframe src="data:text/html,<p>Iframe content</p>" width="300" height="100"></iframe>
                
                <!-- Correct: Iframe with title -->
                <iframe src="data:text/html,<p>Iframe content</p>" width="300" height="100" title="Example content frame"></iframe>
            </div>
        </section>

        <section>
            <h2>2.4.3 Focus Order</h2>
            <div class="test-area">
                <!-- Issue: Illogical tab order -->
                <form>
                    <label for="field1">Field 1:</label>
                    <input type="text" id="field1" tabindex="3">
                    
                    <label for="field2">Field 2:</label>
                    <input type="text" id="field2" tabindex="1">
                    
                    <label for="field3">Field 3:</label>
                    <input type="text" id="field3" tabindex="2">
                    
                    <button tabindex="4">Submit</button>
                </form>
            </div>
        </section>

        <section>
            <h2>2.4.4 Link Purpose</h2>
            <div class="test-area">
                <!-- Issue: Ambiguous link text -->
                <p>Learn about our products. <a href="#">Click here</a></p>
                <p>View our pricing. <a href="#">Read more</a></p>
                <p>Download the user guide. <a href="#">Here</a></p>
                
                <!-- Correct: Descriptive link text -->
                <p><a href="#">View our product catalog</a></p>
                <p><a href="#">Download pricing information (PDF)</a></p>
            </div>
        </section>

        <section>
            <h2>2.4.7 Focus Visible</h2>
            <div class="test-area">
                <!-- Issue: Focus indicator removed -->
                <button class="no-focus-indicator">No Focus Indicator</button>
                <input type="text" class="no-focus-indicator" placeholder="Can't see focus">
                <a href="#" class="no-focus-indicator">Link without focus</a>
                
                <!-- Correct: Visible focus -->
                <button style="margin-left: 20px;">Visible Focus</button>
            </div>
        </section>

        <section>
            <h2>2.4.11 Focus Not Obscured</h2>
            <div class="test-area">
                <!-- Issue: Sticky header covers focused elements -->
                <div style="position: relative; height: 150px; overflow: auto; border: 1px solid #ccc;">
                    <div style="position: sticky; top: 0; background: #333; color: white; padding: 10px; z-index: 10;">
                        Sticky Header
                    </div>
                    <div style="padding: 10px;">
                        <input type="text" placeholder="This gets hidden when focused">
                        <br><br>
                        <input type="text" placeholder="Scroll and focus to see issue">
                    </div>
                </div>
            </div>
        </section>

        <section>
            <h2>2.5.1 Pointer Gestures</h2>
            <div class="test-area">
                <!-- Issue: Multi-point gesture only -->
                <div style="border: 2px solid #ccc; padding: 20px; touch-action: none;">
                    <p>Pinch to zoom (no single-pointer alternative)</p>
                </div>
                
                <!-- Correct: Alternative provided -->
                <div style="border: 2px solid #ccc; padding: 20px; margin-top: 10px;">
                    <p>Pinch to zoom or use buttons:</p>
                    <button>Zoom In</button>
                    <button>Zoom Out</button>
                </div>
            </div>
        </section>

        <section>
            <h2>2.5.2 Pointer Cancellation</h2>
            <div class="test-area">
                <!-- Issue: Action on mousedown -->
                <button onmousedown="alert('Triggered on down event - no cancellation possible')">
                    Bad: Triggers on Mouse Down
                </button>
                
                <!-- Correct: Action on mouseup -->
                <button onclick="alert('Triggered on click/up event - can be cancelled')">
                    Good: Triggers on Click
                </button>
            </div>
        </section>

        <section>
            <h2>2.5.3 Label in Name</h2>
            <div class="test-area">
                <!-- Issue: Visible label doesn't match accessible name -->
                <button aria-label="Submit form">Send</button>
                
                <!-- Issue: Icon with different accessible name -->
                <button aria-label="Search">🔍 Find</button>
                
                <!-- Correct: Label matches -->
                <button>Submit</button>
            </div>
        </section>

        <section>
            <h2>2.5.4 Motion Actuation</h2>
            <div class="test-area">
                <!-- Issue: Motion-only control -->
                <p>Shake device to refresh (no button alternative)</p>
                
                <!-- Correct: Alternative provided -->
                <p>Shake device or <button>Click to Refresh</button></p>
            </div>
        </section>

        <section>
            <h2>2.5.7 Dragging Movements</h2>
            <div class="test-area">
                <!-- Issue: Drag-only functionality -->
                <div style="display: flex; gap: 20px;">
                    <div style="border: 2px dashed #ccc; padding: 20px;">
                        <div class="drag-only" draggable="true" style="background: #3498db; color: white; padding: 10px;">
                            Drag me (no keyboard alternative)
                        </div>
                    </div>
                    <div style="border: 2px dashed #ccc; padding: 20px;">
                        Drop here
                    </div>
                </div>
            </div>
        </section>

        <section>
            <h2>2.5.8 Target Size</h2>
            <div class="test-area">
                <!-- Issue: Tiny click targets -->
                <button class="tiny-target" style="padding: 2px; font-size: 10px;">×</button>
                <a href="#" style="font-size: 12px; padding: 2px;">tiny link</a>
                
                <!-- Issue: Targets too close -->
                <button style="padding: 3px; margin: 0;">Yes</button><button style="padding: 3px; margin: 0;">No</button>
                
                <!-- Correct: Adequate target size -->
                <button style="padding: 12px 24px; margin-left: 20px;">Good Size</button>
            </div>
        </section>
    </main>

    <footer>
        <p>© 2024 WCAG Testing Playground | Operable Principle Tests</p>
    </footer>

    <script src="js/scripts.js"></script>
</body>
</html>